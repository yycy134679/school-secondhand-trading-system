* [x] 1. 项目初始化与准备工作（整体）

  * [x] 1.1 开发环境准备

    * [x] 1.1.1 在所有开发机安装 Node.js LTS（建议 ≥18）与 pnpm，统一版本（可通过 `nvm` 管理）。
    * [x] 1.1.2 安装常用全局工具：VSCode + Volar / TypeScript 插件、ESLint 插件、Prettier 插件。

  * [x] 1.2 仓库与子项目初始化

    * [x] 使用 pnpm 初始化 frontedn/ 与 admin-frontend/ 两个子项目，使用 pnpm install 安装依赖，确保能正常启动 Vite 开发服务器。

  * [x] 1.3 TypeScript 与路径别名配置（前后端通用思路）

    * [x] 1.3.1 在 `frontend/tsconfig.app.json` 与 `admin-frontend/tsconfig.app.json` 中配置 `baseUrl` 和 `paths`，为 `@/*` → `src/*`，`@common/*` → `../common/*`，方便引用共享类型与常量。
    * [x] 1.3.2 在 `vite.config.ts`（两个前端项目）中同步配置 `resolve.alias`：`'@': fileURLToPath(new URL('./src', import.meta.url))`、`'@common': fileURLToPath(new URL('../common', import.meta.url))`。

  * [x] 1.4 代码规范工具（ESLint / Prettier / Stylelint）

    * [x] 1.4.1 在两个前端项目中安装并配置 ESLint（`@typescript-eslint`、`eslint-plugin-vue`），启用推荐规则 + Vue3 + TS 规则，统一 `.eslintrc.cjs`（实际使用 `eslint.config.ts`）。
    * [x] 1.4.2 配置 Prettier（`.prettierrc`）和 `.editorconfig`，统一缩进（2 空格）、单引号、分号策略。
    * [ ] 1.4.3 如有需要，配置简单 Stylelint 或在全局样式中约定 BEM / utility class 书写规范。(跳过)
    * [x] 1.4.4 配置 `package.json` 中的 `lint` / `lint:fix` / `format` 脚本，并在根目录可通过 `pnpm lint` 整体执行。

  * [x] 1.5 环境变量与 Vite 开发服务器

    * [x] 1.5.1 在 `frontend/.env.development` 中配置 `VITE_API_BASE_URL=http://localhost:8080/api/v1`，用于学生端访问后端接口。
    * [x] 1.5.2 在 `admin-frontend/.env.development` 中配置 `VITE_API_BASE_URL` 同上，供管理端使用。
    * [x] 1.5.3 在两个 Vite 配置中（`vite.config.ts`）设置开发服务器代理（`server.proxy`）将 `/api` 代理到后端端口，避免 CORS 问题。
    * [x] 1.5.4 约定生产环境 `.env.production` 变量名一致，便于 CI/CD。

  * [x] 1.6 common/ 模块引入策略

    * [x] 1.6.1 在 `frontend` 和 `admin-frontend` 中确认能正确导入 `common/types/*.ts`（用户、商品、分类、标签、响应结构）与 `common/constants/*.ts`（错误码、商品状态、新旧程度接口定义）。
    * [x] 1.6.2 约定：前端不硬编码商品状态字符串，统一通过 `product_status.ts`；新旧程度由 `product_condition.ts` 的接口 + `GET /api/v1/product-conditions` 动态填充值（不要写死枚举）。

---

* [ ] 2. 学生端（frontend/）功能模块梳理与路由/接口对齐

  * [ ] 2.1 学生端功能模块清单梳理（依据 PRD + 设计）

    * [ ] 2.1.1 用户认证：注册、登录（含“记住我”）、获取/更新个人资料、修改密码。
    * [ ] 2.1.2 商品浏览：首页推荐 + 最新列表、搜索结果页、分类浏览页、商品详情页。
    * [ ] 2.1.3 商品管理（学生）：发布商品、编辑商品、我发布的商品列表、上架/下架/标记已售 + 3 秒撤销。
    * [ ] 2.1.4 联系卖家：详情页点击“联系卖家”，根据登录态与卖家微信号返回规则展示微信号/提示。
    * [ ] 2.1.5 个人中心：修改头像/昵称/微信号（昵称 30 天限频）、修改密码、查看最近浏览记录。
    * [ ] 2.1.6 推荐与最近浏览：首页“猜你喜欢”（登录用户）+ API `GET /api/v1/users/recent-views` 展示最近浏览列表。

  * [x] 2.2 路由结构与权限标记（`frontend/src/router/index.ts`）

    * [x] 2.2.1 定义公开路由：`/`（首页）、`/search`、`/category/:id`、`/products/:id`、`/login`、`/register`，与 IA 一致。
    * [x] 2.2.2 定义需登录的路由：`/products/new`、`/products/:id/edit`、`/my/products`、`/profile`，通过 `meta.requiresAuth = true` 标记。
    * [x] 2.2.3 在路由守卫中使用 Pinia `user` store：若访问 `requiresAuth` 路由但未登录，则触发登录弹窗（或跳转 `/login`，再回跳）。
    * [x] 2.2.4 根据路由 meta 配置页面标题（document.title）与面包屑信息（供后期使用）。

  * [ ] 2.3 与后端 API 对齐校验

    * [ ] 2.3.1 逐一比对学生端用到的接口与 `api.md`：用户模块 `/users/register`、`/users/login`、`/users/profile`、`/users/password`。
    * [ ] 2.3.2 逐一比对商品模块接口：`POST /products`、`PUT /products/{id}`、`POST /products/{id}/status`、`POST /products/{id}/status/undo`、`GET /products/{id}`、`GET /products/my`、`GET /products/search`、`GET /products/category/{categoryId}`、图片相关接口。
    * [ ] 2.3.3 校对推荐/首页/最近浏览/联系卖家接口：`GET /home`、`GET /users/recent-views`、`GET /products/{id}/contact` 与 PRD 中描述一致。
    * [ ] 2.3.4 *（冲突标记）*：详细设计中曾提到在详情接口中直接返回 `sellerWechat` 字段，而 `api.md` 将“联系卖家”抽象为独立接口 `GET /products/{id}/contact`；前端实现时以 `api.md` 为准：详情页不直接展示微信号，点击“联系卖家”后单独请求 contact 接口。
    * [ ] 2.3.5 对照 `schema.sql` 确认前端字段命名：商品主图使用 `mainImageUrl`（映射 `products.main_image_url`），状态枚举 `ForSale`/`Delisted`/`Sold`（映射 `product_status` 类型），新旧程度 `conditionId`（映射 `product_conditions.id`）。

---

* [x] 3. 学生端全局基础设施搭建（frontend/src）

  * [x] 3.1 入口与根组件

    * [x] 3.1.1 在 `frontend/src/main.ts` 中创建应用实例，注册 Router 与 Pinia，并挂载到 `#app`。
    * [x] 3.1.2 在 `frontend/src/App.vue` 中实现基础布局：顶部为 `AppHeader`，底部为 `AppFooter`，中间为一个宽度 1200px 的居中容器包裹 `<RouterView />`，满足 Modern Minimalism 布局规范。

  * [x] 3.2 全局样式与主题（Modern Minimalism）

    * [x] 3.2.1 在 `frontend/src/assets/styles/reset.css` 中引入 CSS Reset（可用现代 reset 或自定义），在 `main.ts` 全局引入。
    * [x] 3.2.2 在 `common.scss` 中定义 spacing（4px 基准）、字体、断点、常用 flex 工具类、按钮样式基础变量。
    * [x] 3.2.3 在 `theme.scss` 中定义主要颜色：主色 `#0066FF`、中性色、功能色（成功/错误/警告），并暴露 CSS 变量，供组件引用。
    * [x] 3.2.4 统一定义字体 `font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;`，价格字体加粗并放大 2px。

  * [x] 3.3 工具与请求封装（`frontend/src/utils/` 与 `api/`）

    * [x] 3.3.1 在 `utils/request.ts` 中创建 axios 实例，`baseURL` 从 `import.meta.env.VITE_API_BASE_URL` 读取，设置超时、`Content-Type` 默认值等。
    * [x] 3.3.2 配置请求拦截器：从 `stores/user` 或 `auth.ts` 读取 token，在所有需要登录的请求上添加 `Authorization: Bearer <token>` 头。
    * [x] 3.3.3 配置响应拦截器：统一处理 `code != 0` 的错误，针对 `1002`（未登录）触发登录弹窗，针对 `1003`（权限不足）显示 Toast 提示。
    * [x] 3.3.4 在 `frontend/src/api/` 下创建按领域拆分的 API 模块：`user.ts`、`product.ts`、`category.ts`、`tag.ts`、`home.ts`，每个导出基于 `api.md` 路径与类型签名的函数。

  * [x] 3.4 状态管理（Pinia，`frontend/src/stores/`）

    * [x] 3.4.1 在 `stores/index.ts` 中创建并导出 Pinia 实例，并在 `main.ts` 注册。
    * [x] 3.4.2 实现 `stores/user.ts`：

      * [x] 3.4.2.1 state：`token`、`currentUser`（含 id/account/nickname/avatarUrl/wechatId/isAdmin）、`rememberMe`。
      * [x] 3.4.2.2 actions：`login`（调用 `/users/login`，保存 token 与用户信息到 Pinia + localStorage）、`logout`、`fetchProfile`、`updateProfile`、`changePassword`。
      * [x] 3.4.2.3 getter：`isLoggedIn`、`isAdmin`，用于路由守卫与 UI 显示。
    * [x] 3.4.3 实现 `stores/app.ts`：

      * [x] 3.4.3.1 state：全局 loading 标记、全局错误信息、`categories`、`tags`、`productConditions`。
      * [x] 3.4.3.2 actions：`initDictionaries` 在应用启动时调用 `GET /categories`、`GET /tags`、`GET /product-conditions` 并缓存结果。
    * [x] 3.4.4 实现 `stores/product.ts`：
      * [x] 3.4.4.1 state：`homeRecommendations`、`homeLatest` 分页信息、最近搜索条件缓存（关键词、排序、过滤器）、当前商品详情缓存。
      * [x] 3.4.4.2 actions：`fetchHomeData`、`searchProducts`、`fetchCategoryProducts`、`fetchMyProducts`、`fetchProductDetail`、`changeStatus` 等，调用对应 API 并更新 store。

---

* [x] 4. 学生端通用组件开发（frontend/src/components）

  * [x] 4.1 布局与导航组件（`components/common/`）

    * [x] 4.1.1 `AppHeader.vue`

      * [x] 4.1.1.1 实现固定顶部导航，左侧 Logo，中央搜索框（输入后跳转 `/search?q=xxx`），右侧“发布闲置”按钮 + 用户头像/登录按钮。
      * [x] 4.1.1.2 搜索框支持 Enter 提交与点击搜索图标提交，保留最近搜索关键词在路由 query。
      * [x] 4.1.1.3 未登录点击“发布闲置”时触发登录 Modal；已登录则跳转 `/products/new`。
    * [x] 4.1.2 `AppFooter.vue`

      * [x] 4.1.2.1 实现简洁底部，展示版权信息、项目说明链接（如 GitHub）、安全提示文案（例如“线下交易注意安全”）。

  * [x] 4.2 通用状态组件

    * [x] 4.2.1 `Pagination.vue`：封装分页逻辑（上一页/下一页/页码），通过 `v-model:page` 与 `pageSize` Prop 实现，支持总数展示。
    * [x] 4.2.2 `Loading.vue`：支持两种形式：全局 loading 遮罩及局部骨架屏占位（可通过 slot 或 `type` prop 控制）。
    * [x] 4.2.3 `Empty.vue`：接收 `title`、`description`、可选 `actionLabel`，用于列表为空时展示“暂无商品”“去发布”等提示。
    * [x] 4.2.4 `Modal.vue`：实现通用模态框（遮罩 + 居中白卡片，支持宽度 Prop、关闭按钮、Esc 关闭），用于登录、注册、确认弹窗等。

  * [x] 4.3 商品相关组件（`components/product/`）

    * [x] 4.3.1 `ProductCard.vue`

      * [x] 4.3.1.1 接收 `product: ProductCard` Prop，展示主图（1:1 / 4:3）、标题、价格、发布时间（格式化为“X天前”）、可选状态 Tag。
      * [x] 4.3.1.2 主图使用 `mainImageUrl`，并设置 `object-fit: cover` 与 8px 圆角，悬浮时轻微上浮 + 阴影。
      * [x] 4.3.1.3 卡片点击触发路由跳转到 `/products/:id`。
    * [x] 4.3.2 `ProductStatus.vue`

      * [x] 4.3.2.1 根据 `status` 显示对应胶囊 Tag：在售绿色、已售灰色、下架红色；文本内容与状态字符串匹配（`ForSale/Delisted/Sold`）。
    * [x] 4.3.3 `ProductImageUpload.vue`

      * [x] 4.3.3.1 使用虚线框 + “上传图片”文案；支持拖拽、点击选择多图；上传前做大小/格式校验（例如 ≤2MB、jpg/png）。
      * [x] 4.3.3.2 本地预览缩略图，支持删除与设置主图标记（内部维护 `isPrimary` 与 `sortOrder`，表单提交时挂到 FormData）。
    * [x] 4.3.4 `ProductForm.vue`

      * [x] 4.3.4.1 封装发布/编辑商品表单：标题、价格、新旧程度（Radio/Select，来源 `productConditions`）、分类（Select）、标签（多选）、描述、多图上传。
      * [x] 4.3.4.2 提供 `mode: 'create' | 'edit'` Prop 与 `initialValue`，在编辑模式下回显已有商品信息与图片。
      * [x] 4.3.4.3 提交触发 `onSubmit` 事件，包含结构化数据 + `File[]`，由父组件调用 `POST /products` 或 `PUT /products/{id}`。

  * [ ] 4.4 用户相关组件（`components/user/`）

    * [ ] 4.4.1 `LoginModal.vue`

      * [ ] 4.4.1.1 实现账号、密码、记住我、登录按钮，调用 `userStore.login` 对接 `POST /users/login`。
      * [ ] 4.4.1.2 登录成功后关闭 Modal，刷新当前路由（或重定向到之前受保护的路由）。
    * [ ] 4.4.2 `RegisterModal.vue`

      * [ ] 4.4.2.1 实现账号、昵称、密码、确认密码，调用 `POST /users/register`；可选输入微信号（提前填）。
      * [ ] 4.4.2.2 注册成功后保存 token + 用户信息并关闭 Modal，跳转首页。
    * [ ] 4.4.3 `AvatarUpload.vue`

      * [ ] 4.4.3.1 支持选择/拖拽上传单张头像图，在上传成功后拿到 URL 并调用 `PUT /users/profile` 更新 `avatarUrl`。

---

* [ ] 5. 学生端关键页面开发与联调（按页面拆解）

  * [ ] 5.1 首页 `/`（`frontend/src/views/home/Index.vue`）

    * [ ] 5.1.1 布局与结构

      * [ ] 5.1.1.1 上方 Hero 区：简短欢迎语 + 热门搜索词 Tag（点击跳转到 `/search?q=xxx`）。
      * [ ] 5.1.1.2 分类导航条：从 `appStore.categories` 渲染横向滚动分类按钮，点击跳转 `/category/:id`。
      * [ ] 5.1.1.3 两个列表区：“为你推荐”（登录且有推荐时显示）与“最新上架”。
    * [ ] 5.1.2 状态管理与数据加载

      * [ ] 5.1.2.1 进入页面时调用 `productStore.fetchHomeData({page, pageSize})`，对接 `GET /home`。
      * [ ] 5.1.2.2 将响应中的 `data.recommendations` 存入 `homeRecommendations`，`data.latest` 分页信息存入 `homeLatest`。
    * [ ] 5.1.3 接口调用与骨架屏

      * [ ] 5.1.3.1 在加载阶段展示商品卡片骨架屏（若列表为空且 loading 为 true），避免大面积 spinner。
      * [ ] 5.1.3.2 使用 `Pagination` 控制“最新上架”翻页，翻页时重新请求 `GET /home?page=...` 但推荐区保持不变。
    * [ ] 5.1.4 交互与空状态

      * [ ] 5.1.4.1 当 `recommendations` 为空或用户未登录时隐藏“为你推荐”模块。
      * [ ] 5.1.4.2 当“最新上架”无数据时，使用 `Empty` 显示“暂无更多商品”。

  * [ ] 5.2 搜索页 `/search`（`frontend/src/views/search/Index.vue`）

    * [ ] 5.2.1 布局与过滤条

      * [ ] 5.2.1.1 从路由 query 读取 `q` 初始值，顶部显示搜索关键词。
      * [ ] 5.2.1.2 实现筛选栏（吸顶）：排序（最新/价格升/降）、价格区间、新旧程度、发布时间（全部/近7天/近30天）。
    * [ ] 5.2.2 API 对接

      * [ ] 5.2.2.1 调用 `GET /products/search`，将以上过滤条件映射为 `q`、`categoryId`、`tagIds`、`conditionIds`、`minPrice`/`maxPrice`、`publishedTimeRange`、`sort`、`page/pageSize`。
      * [ ] 5.2.2.2 将返回的 `items` 通过 `ProductCard` 渲染网格列表。
    * [ ] 5.2.3 交互与状态

      * [ ] 5.2.3.1 任何筛选条件/排序变更时，更新路由 query 并重新请求搜索接口。
      * [ ] 5.2.3.2 如果无结果，展示 `Empty`，文案类似“没有找到相关商品，换个词试试？”。

  * [ ] 5.3 分类页 `/category/:id`（`frontend/src/views/category/Index.vue`）

    * [ ] 5.3.1 从路由读取分类 ID，在顶部显示分类名称（从 `appStore.categories` 查找）。
    * [ ] 5.3.2 调用 `GET /products/category/{categoryId}`，支持 `minPrice`/`maxPrice`/`sort`/分页。
    * [ ] 5.3.3 列表与分页使用 `ProductCard` + `Pagination`，空列表时展示 `Empty`。

  * [ ] 5.4 商品详情页 `/products/:id`（`frontend/src/views/product/Detail.vue`）

    * [ ] 5.4.1 布局

      * [ ] 5.4.1.1 左侧图片区域：主图 + 缩略图列表，点击缩略图切换主图；支持点击放大为 Lightbox。（前端可以先实现基础切换，Lightbox 可作为增强）
      * [ ] 5.4.1.2 右侧信息区：标题、价格、分类标签、新旧程度 Tag、发布时间、卖家卡片、描述、操作按钮区域。
    * [ ] 5.4.2 数据加载

      * [ ] 5.4.2.1 调用 `GET /products/{id}` 获取 `ProductDetail`，包括 `images`、`status`、`seller`、`viewerIsSeller` 等。
      * [ ] 5.4.2.2 加载中展示骨架屏；加载失败显示错误提示。
    * [ ] 5.4.3 状态与操作控制

      * [ ] 5.4.3.1 若 `status` 为 `Sold` 或 `Delisted`，在顶部显示灰色横幅“该商品已售出/已下架”，禁用“联系卖家”按钮。
      * [ ] 5.4.3.2 若 `viewerIsSeller` 为 true，则不显示“联系卖家”，替换为“编辑商品”按钮跳转 `/products/:id/edit`。
    * [ ] 5.4.4 联系卖家交互

      * [ ] 5.4.4.1 未登录点击“联系卖家”时弹出 `LoginModal`，登录成功后返回详情页并自动尝试再次调用 contact 接口。
      * [ ] 5.4.4.2 已登录且非卖家：调用 `GET /products/{id}/contact`，根据返回：

        * [ ] 5.4.4.2.1 `canContact=true` 且 `sellerWechat` 非空：展示微信号弹窗，可一键复制，并显示“请线下交易，注意安全”。
        * [ ] 5.4.4.2.2 `canContact=false` 且 `tips` 存在（如微信号为空）：展示降级提示“卖家联系方式暂不可用，请稍后再试”。

  * [ ] 5.5 发布商品页 `/products/new`（`frontend/src/views/product/New.vue`）

    * [ ] 5.5.1 访问控制：路由 `meta.requiresAuth=true`，未登录时路由守卫触发登录。
    * [ ] 5.5.2 使用 `ProductForm` 组件作为主内容，加载 `appStore.categories`、`tags`、`productConditions` 作为选项。
    * [ ] 5.5.3 在提交前检查当前用户 `wechatId` 是否为空：若为空，提示用户前往个人中心填写后再发布（或在底部提供微信号输入并调用 `PUT /users/profile` 补齐）。
    * [ ] 5.5.4 提交逻辑：

      * [ ] 5.5.4.1 将表单数据转为 `FormData`，含 `title`、`description`、`price`、`categoryId`、`tagIds` 字符串、`conditionId`、`images` 数组。
      * [ ] 5.5.4.2 调用 `POST /products` 成功后，跳转到新建商品详情页或“我发布的商品”。
      * [ ] 5.5.4.3 提交期间禁用按钮并显示 loading 状态，防止重复提交。

  * [ ] 5.6 编辑商品页 `/products/:id/edit`（`frontend/src/views/product/Edit.vue`）

    * [ ] 5.6.1 初始化加载：根据 `:id` 调用 `GET /products/{id}`，并校验当前用户是否为 `seller`（若不是，跳回首页或展示无权限）。
    * [ ] 5.6.2 若商品状态为 `Sold`，前端在 UI 上直接展示“已售商品不能编辑”的提示，同时让提交按钮不可用（尽管后端也会用 `3004` 拦截，前端先行友好提示）。
    * [ ] 5.6.3 将初始数据传入 `ProductForm` 的 `initialValue`；提交调用 `PUT /products/{id}`，字段与创建时对应（只传需要变更字段）。

  * [ ] 5.7 我发布的商品 `/my/products`（`frontend/src/views/product/MyProducts.vue`）

    * [ ] 5.7.1 页面结构：列表 + 状态标签 + 操作按钮区，下方分页。
    * [ ] 5.7.2 数据加载：调用 `GET /products/my?keyword=&page=&pageSize=`，展示 `mainImageUrl`、标题、价格、状态、发布时间。
    * [ ] 5.7.3 操作按钮：

      * [ ] 5.7.3.1 对 `ForSale`：可“编辑”、“下架”、“标记已售”。
      * [ ] 5.7.3.2 对 `Delisted`：可“编辑”、“重新上架”。
      * [ ] 5.7.3.3 对 `Sold`：仅显示“已售出”标签，不提供状态变更按钮。
    * [ ] 5.7.4 上下架与标记已售交互：

      * [ ] 5.7.4.1 调用 `POST /products/{id}/status`，传 `action` 为 `delist`/`relist`/`sold`。根据返回状态更新列表。
      * [ ] 5.7.4.2 对 `delist` 与 `relist` 操作，在成功后展示 3 秒内可点击“撤销”的横幅，撤销时调用 `POST /products/{id}/status/undo`；根据 `3005` 错误码展示“撤销超时或状态已改变”。

  * [ ] 5.8 个人中心 `/profile`（`frontend/src/views/user/Profile.vue`）

    * [ ] 5.8.1 页面结构：Tab 或垂直菜单，包含“个人资料”、“我发布的”、“最近浏览”。
    * [ ] 5.8.2 个人资料 Tab：

      * [ ] 5.8.2.1 显示头像、昵称、账号、微信号。昵称与微信号支持编辑：调用 `PUT /users/profile` 更新，昵称修改需处理 `1001` 频率限制错误。
      * [ ] 5.8.2.2 嵌入 `AvatarUpload` 用于头像修改。
    * [ ] 5.8.3 修改密码 Tab：

      * [ ] 5.8.3.1 表单包含旧密码、新密码、确认新密码，调用 `PUT /users/password`。
      * [ ] 5.8.3.2 对 `1001` 错误返回“旧密码不正确”或“新密码不满足要求”提示。
    * [ ] 5.8.4 最近浏览 Tab：

      * [ ] 5.8.4.1 调用 `GET /users/recent-views`，渲染最近浏览商品卡片，最多 20 条按时间倒序。

  * [ ] 5.9 登录/注册页（备用）`/login`、`/register`（`frontend/src/views/user/Login.vue` & `Register.vue`）

    * [ ] 5.9.1 复用 Modal 内逻辑，提供全页形式的登录/注册页面（与弹窗 UI 统一）。
    * [ ] 5.9.2 登录成功后按 PRD 要求跳转首页；注册成功同样自动登录并进入首页。

---

* [ ] 6. 学生端联调、自测与验收要点

  * [ ] 6.1 接口联调检查

    * [ ] 6.1.1 针对所有 API，使用浏览器网络面板/接口调试工具核对 HTTP 方法、URL、参数名与 `api.md` 一致，尤其是 `tagIds` 字符串格式、`conditionId`、分页参数。
    * [ ] 6.1.2 校验状态机相关接口：非法状态流转应返回 `3003` 或 `3004`，前端适配文案。

  * [ ] 6.2 业务流程自测（学生端）

    * [ ] 6.2.1 用户从注册 → 登录 → 完善微信号 → 发布商品 → 在首页/搜索/分类中看到新发布商品 → 详情页联系卖家全流程可用。
    * [ ] 6.2.2 “我发布的”中执行下架 → 撤销 → 标记已售 → 再尝试编辑/变更状态，验证终态不可逆与错误提示。
    * [ ] 6.2.3 多次查看商品详情，刷新首页推荐，确认“猜你喜欢”出现并与“最新上架”去重。
    * [ ] 6.2.4 未登录时访问需登录页面（发布、新建、个人中心等）被路由守卫拦截并提示登录；登录后自动回跳原页面。

  * [ ] 6.3 UI/交互验收（Modern Minimalism）

    * [ ] 6.3.1 检查页面是否一致使用定义的色彩、字体、间距、圆角与阴影规范，避免多余装饰。
    * [ ] 6.3.2 验证所有按钮、链接、卡片 hover 状态具备轻微动效（0.2s 过渡），无突兀闪烁。
    * [ ] 6.3.3 验证加载/空/错误状态都有合适展示，无大片空白或静默失败。

---

* [ ] 7. 管理后台（admin-frontend/）全局基础设施搭建

  * [ ] 7.1 入口与布局框架

    * [ ] 7.1.1 在 `admin-frontend/src/main.ts` 中创建应用，注册 Router、Pinia、Element Plus（或选用的 UI 库），并挂载。
    * [ ] 7.1.2 在 `admin-frontend/src/App.vue` 中建立基础 Layout：侧边栏 + 顶部栏 + 内容区；内容区展示 `<RouterView />`，整体宽度自适应 PC。

  * [ ] 7.2 路由与权限（`admin-frontend/src/router/index.ts`）

    * [ ] 7.2.1 定义管理端路由：`/login`（登录）、`/dashboard`、`/users`、`/products`、`/categories`、`/tags`。
    * [ ] 7.2.2 路由守卫：

      * [ ] 7.2.2.1 若未登录（无 token），除 `/login` 外统一重定向到 `/login`。
      * [ ] 7.2.2.2 登录后若 `isAdmin=false`，直接登出并提示“非管理员账号”。

  * [ ] 7.3 管理端 Store（`admin-frontend/src/store/`）

    * [ ] 7.3.1 `store/admin.ts`：

      * [ ] 7.3.1.1 state：`token`、`adminUser`（含 `isAdmin`）、`permissions`。
      * [ ] 7.3.1.2 actions：`login`（调用 `/users/login`，校验 `isAdmin`）、`logout`。
    * [ ] 7.3.2 `store/app.ts`：缓存全局 loading 状态与通用配置（侧边栏折叠等）。

  * [ ] 7.4 请求封装与 API 模块（`admin-frontend/src/api/`）

    * [ ] 7.4.1 复制/复用 `utils/request.ts` 逻辑，保证与学生端一致的 token 注入与错误处理。
    * [ ] 7.4.2 编写 `admin.ts`：`getDashboardStats` → `GET /admin/dashboard`。
    * [ ] 7.4.3 编写 `user.ts`：`listUsers` → `GET /admin/users`（支持 keyword/page/pageSize）。
    * [ ] 7.4.4 编写 `product.ts`：`listProducts` → `GET /admin/products`，`updateProductAsAdmin` → `PUT /admin/products/{id}`。
    * [ ] 7.4.5 编写 `category.ts` 和 `tag.ts`：对接 `/admin/categories` 与 `/admin/tags` 的增删改查接口。

---

* [ ] 8. 管理后台通用组件开发（admin-frontend/src/components）

  * [ ] 8.1 布局组件（`components/layout/`）

    * [ ] 8.1.1 `Sidebar.vue`：

      * [ ] 8.1.1.1 使用菜单组件展示导航项：仪表盘、用户管理、商品管理、分类管理、标签管理；根据当前路由高亮。
    * [ ] 8.1.2 `Header.vue`：

      * [ ] 8.1.2.1 展示当前管理员昵称和头像，提供“退出登录”按钮（清空 token，跳转 `/login`）。
    * [ ] 8.1.3 `Breadcrumb.vue`：根据路由 meta 生成面包屑，用于页面顶部导航。

  * [ ] 8.2 通用业务组件（`components/common/`）

    * [ ] 8.2.1 `SearchBar.vue`：封装搜索输入 + 下拉筛选区域，接受 `modelValue` 和 `onSearch` 回调，用于用户/商品列表页。
    * [ ] 8.2.2 `DataTable.vue`：对 Element Plus Table 的简单封装，支持分页、排序、操作列 slot；用于所有列表页。
    * [ ] 8.2.3 `ConfirmDialog.vue`：统一的确认弹窗（删除分类/标签、保存变更提示等）。

---

* [ ] 9. 管理后台页面开发与联调

  * [ ] 9.1 管理员登录页 `/login`（`admin-frontend/src/views/login/Index.vue`）

    * [ ] 9.1.1 实现账号 + 密码 + 登录按钮表单，调用学生端同一接口 `POST /users/login`。
    * [ ] 9.1.2 登录成功后检查响应中的 `isAdmin`：若 false，提示“无管理员权限”，不保存 token；若 true，保存 token 并跳转 `/dashboard`。

  * [ ] 9.2 仪表盘 `/dashboard`（`admin-frontend/src/views/dashboard/Index.vue`）

    * [ ] 9.2.1 页面加载时调用 `GET /admin/dashboard`，解析 `userCount`、`productCount`、`forSaleCount`、`soldCount`。
    * [ ] 9.2.2 使用数据卡片展示统计数字，可选简单折线图或饼图展示在售/已售比例。
    * [ ] 9.2.3 验证加载、错误、空数据状态（服务异常时展示错误提示）。

  * [ ] 9.3 用户管理 `/users`（`admin-frontend/src/views/user/List.vue`）

    * [ ] 9.3.1 顶部使用 `SearchBar` 提供关键字搜索（账号/昵称），分页通过 `DataTable` 控制。
    * [ ] 9.3.2 调用 `GET /admin/users?keyword=&page=&pageSize=` 获取用户列表，展示字段：`id`、`account`、`nickname`、`avatarUrl`、`wechatId`、`isAdmin`、`createdAt`。
    * [ ] 9.3.3 如 PRD 未要求编辑/禁用用户，这一版仅做查询浏览；若扩展，可在操作列预留“查看详情”按钮。

  * [ ] 9.4 商品管理 `/products`（`admin-frontend/src/views/product/List.vue` & `Detail.vue`）

    * [ ] 9.4.1 列表页 `List.vue`

      * [ ] 9.4.1.1 搜索条件：关键词（标题/描述）、状态筛选（`ForSale/Delisted/Sold`）、发布者 ID；调用 `GET /admin/products`。
      * [ ] 9.4.1.2 表格展示：商品 ID、标题、价格、状态（用 `ProductStatus` Tag）、卖家账号、创建时间。
      * [ ] 9.4.1.3 行点击或“查看详情”按钮跳转到 `Detail.vue`，携带商品 ID。
    * [ ] 9.4.2 详情页 `Detail.vue`

      * [ ] 9.4.2.1 调用公共 `GET /products/{id}` 获取详情，并显示所有字段（包括图片、标签、新旧程度）。
      * [ ] 9.4.2.2 在右侧提供“管理纠错编辑”表单：允许更改标题、描述、价格、分类、标签、新旧程度、主图等，但不允许编辑 `status` 字段（仅只读展示）。
      * [ ] 9.4.2.3 保存按钮调用 `PUT /admin/products/{id}`，Body 不包含 `status` 字段；若后端返回 `3004`（尝试非法变更状态），前端展示“已售商品状态不可修改，仅支持内容纠错”的提示。

  * [ ] 9.5 分类管理 `/categories`（`admin-frontend/src/views/category/List.vue` / `Create.vue` / `Edit.vue`）

    * [ ] 9.5.1 列表页：

      * [ ] 9.5.1.1 使用 `GET /categories` 获取所有分类显示在表格中，列出 `id`、`name`、`description`。
      * [ ] 9.5.1.2 提供“新增分类”按钮跳转 `Create.vue`；每行提供“编辑”、“删除”操作。
    * [ ] 9.5.2 新增页 `Create.vue`：表单包含名称与描述，提交调用 `POST /admin/categories`。
    * [ ] 9.5.3 编辑页 `Edit.vue`：加载 `GET /categories` 或单条分类详情后回显，提交调用 `PUT /admin/categories/{id}`。
    * [ ] 9.5.4 删除分类：点击删除时弹出 `ConfirmDialog`，确认后调用 `DELETE /admin/categories/{id}`；若接口返回 `4001`，展示“分类已被商品引用，无法删除”的提示。

  * [ ] 9.6 标签管理 `/tags`（`admin-frontend/src/views/tag/List.vue` / `Create.vue` / `Edit.vue`）

    * [ ] 9.6.1 列表页：使用 `GET /tags` 加载标签，展示 `id`、`name`，并提供增删改操作。
    * [ ] 9.6.2 新增/编辑页：调用对应 `POST /admin/tags`、`PUT /admin/tags/{id}` 接口。
    * [ ] 9.6.3 删除标签：调用 `DELETE /admin/tags/{id}`；若返回 `4002`，展示“标签已被商品使用，无法删除”。

---

* [ ] 10. 管理后台联调、自测与验收

  * [ ] 10.1 权限与安全

    * [ ] 10.1.1 确认只有 `isAdmin=true` 的用户能登录后台并访问后台接口；普通用户访问后台路由会被重定向到后台登录，并在登录后提示无权限。

  * [ ] 10.2 后台业务流程自测

    * [ ] 10.2.1 管理员登录 → 查看仪表盘数据是否与数据库直观统计一致（用户数、商品数、在售/已售）。
    * [ ] 10.2.2 在后台商品列表中筛选不同状态，检查与前台展示的商品状态匹配（例如前台下架后，后台状态变更为 `Delisted`）。
    * [ ] 10.2.3 通过管理员纠错编辑已售商品标题/描述，确认前台详情也随之更新，且尝试更改状态会被接口拒绝（`3004`）。
    * [ ] 10.2.4 删除分类/标签前后对比：若被商品引用，后端返回 `4001/4002`，前端提示清晰；未被引用的分类/标签可成功删除后，前端列表刷新。

  * [ ] 10.3 UI/交互一致性

    * [ ] 10.3.1 检查后台各页面使用统一的布局组件、表格样式和按钮风格；保持与学生端一样的 Modern Minimalism 基调但适配管理场景（更多表格和数据）。

---

* [ ] 11. 整体回归与文档更新

  * [ ] 11.1 根据最终实现更新 `README.md` 与前端相关文档（如在 docs 中补充前端路由说明与运行方式）。
  * [ ] 11.2 整体回归测试：

    * [ ] 11.2.1 覆盖所有主干用例（注册登录、发布商品、浏览搜索、联系卖家、上下架/已售、推荐、个人资料修改、后台分类/标签维护、后台纠错）。
    * [ ] 11.2.2 针对关键状态机/隐私规则（商品终态、卖家微信展示）做专项回归，确保与 `api.md` 与 `schema.sql` 一致。
  * [ ] 11.3 在课程答辩或评审前准备 Demo 账号（普通学生 + 管理员）与演示脚本（按功能模块顺序演示前台与后台，突出“推荐 + 状态机 + 管理纠错”特色）。
