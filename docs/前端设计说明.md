# 前端设计说明文档 (Frontend Design Spec)

**项目名称**：校园二手交易平台 (School Secondhand Trading System)  
**版本**：1.0  
**日期**：2025-11-19  
**设计风格**：Modern Minimalism (现代极简)

---

## 1. 简介 (Introduction)

### 1.1 项目概述
本项目是一个面向校园学生的二手物品交易平台。核心价值在于**“高效发现”**与**“信任连接”**。设计旨在通过极简的视觉语言，降低信息干扰，让商品本身成为视觉焦点，营造安全、友好的校园交易氛围。

### 1.2 用户与场景
* **学生买家**：在碎片化时间（课间、宿舍）浏览商品，通过关键词或分类快速寻找教材、数码产品，查看详情并获取卖家联系方式。
* **学生卖家**：快速拍摄物品，填写必要信息发布商品；管理自己的商品状态（降价、下架、标记已售）。
* **管理员**：在 PC 端后台维护分类标签，监控平台数据。

### 1.3 设计原则
* **内容至上 (Content First)**：去除一切不必要的装饰（边框、渐变、纹理），让商品图片和价格信息占据视觉核心。
* **呼吸感 (Breathable)**：使用大量的留白（Whitespace）来区分信息层级，避免拥挤的排版。
* **克制与统一 (Restrained & Consistent)**：严格限制颜色数量，统一交互模式，降低认知负荷。
* **友好 (Friendly)**：文案语气平等、亲切，交互反馈及时且柔和。

---

## 2. 信息架构与路由 (IA & Routing)

前端路由结构基于 Vue Router，分为公开区、学生个人区和管理后台。

### 2.1 学生端 (Frontend)
**公开页面 (Public)**
* `/` **首页**：核心流量入口。展示推荐商品（猜你喜欢）与最新发布商品。
* `/search` **搜索结果页**：支持关键词搜索、筛选（价格/分类/新旧/时间）与排序。
* `/category/:id` **分类列表页**：特定分类下的商品浏览。
* `/products/:id` **商品详情页**：展示完整信息、卖家信息、联系入口。
* `/login` & `/register` **认证页**：简洁的表单页面，支持模态框 (Modal) 形式在当前页唤起。

**用户专属 (Private -需登录)**
* `/products/new` **发布商品**：表单页，支持多图上传。
* `/products/:id/edit` **编辑商品**：回显数据，支持修改非状态字段。
* `/my/products` **我的发布**：列表管理，执行上架/下架/标记已售操作。
* `/profile` **个人中心**：修改头像、昵称、密码及微信号。

### 2.2 管理后台 (Admin-Frontend)
* `/admin/dashboard` **仪表盘**：数据概览。
* `/admin/users` **用户管理**：列表查询。
* `/admin/products` **商品管理**：全平台商品查询、纠错编辑。已售商品的状态标签不可操作，只允许管理员修改标题、描述、分类等非状态字段。
* `/admin/categories` & `/admin/tags` **元数据管理**：分类与标签的增删改查。

---

## 3. 视觉设计规范 (Visual Design System)

### 3.1 色彩系统 (Color Palette)
采用 **60-30-10** 原则，大面积黑白灰，品牌色仅用于关键引导。

* **品牌主色 (Primary Brand)**: `#0066FF` (Ocean Blue)
    * *含义*：清爽、信任、高效。
    * *应用*：主按钮背景、文字链接、激活状态图标、光标颜色。
* **中性色 (Neutrals)**:
    * `#FFFFFF` **背景色 (Base)**：页面背景、卡片背景。
    * `#F7F8FA` **次级背景 (Surface)**：全局底色（用于衬托白卡片）、输入框背景。
    * `#1A1A1A` **主文本 (Title)**：标题、重要数字（价格）。
    * `#666666` **次级文本 (Body)**：正文、描述、次要信息。
    * `#999999` **辅助文本 (Caption)**：占位符、时间戳、失效文字。
    * `#E5E7EB` **边框/分割线 (Border)**：极淡的分割线。
* **功能色 (Functional)**:
    * `#EF4444` **错误/下架 (Error)**：错误提示、删除操作、已下架标签。
    * `#10B981` **成功/在售 (Success)**：成功Toast、在售状态。
    * `#F59E0B` **警告/已售 (Warning)**：已售出状态（使用暖灰色或低饱和橙色，避免过于刺眼，建议 `#9CA3AF` 表示已售更为中性，但在列表中可用低饱和橙色标记历史记录）。

### 3.2 字体与排版 (Typography)
使用无衬线字体，强调现代感。

* **Font Family**: `Inter`, `-apple-system`, `BlinkMacSystemFont`, `Helvetica Neue`, `sans-serif`.
* **层级 (Scale)**:
    * **H1 (页面标题)**: 24px / Bold / line-height 1.4
    * **H2 (模块标题/商品卡片标题)**: 18px / Medium / line-height 1.4
    * **H3 (正文重点)**: 16px / Medium
    * **Body (正文)**: 14px / Regular / line-height 1.6
    * **Caption (辅助)**: 12px / Regular / line-height 1.5
* **价格**: 使用专用数字字体（如 `DIN` 或 `Roboto`），字重 Bold，字号比同级文字大 2px。

### 3.3 间距与网格 (Spacing & Layout)
基于 **4px** 基准网格系统。

* **常用间距**:
    * `xs`: 4px
    * `sm`: 8px (组件内间距)
    * `md`: 16px (常规间距)
    * `lg`: 24px (模块间距)
    * `xl`: 32px/40px (页面区块间距)
* **容器**:
    * 页面主体：最大宽度 `1200px`，居中。
* **留白**: 卡片内部 padding 至少 `16px`，列表项之间 gap 至少 `20px`。

### 3.4 圆角与阴影 (Radius & Shadows)
* **圆角**: 统一使用 `8px`（小组件）和 `12px`（卡片/模态框）。
* **阴影**: 极简设计尽量少用阴影，仅在**悬浮 (Hover)** 或 **层级叠加 (Modal/Dropdown)** 时使用。
    * *Default*: None (扁平化)
    * *Hover Card*: `0 4px 12px rgba(0, 0, 0, 0.08)` (柔和弥散)
    * *Modal/Dropdown*: `0 8px 24px rgba(0, 0, 0, 0.12)`

### 3.5 图片规范
* **商品卡片**: 统一裁剪为 **1:1 (正方形)** 或 **4:3**，CSS 使用 `object-fit: cover` 避免变形。
* **详情页**: 顶部轮播图或网格图，保持图片原始比例但高度设限。
* **圆角**: 图片组件继承 `8px` 圆角。

---

## 4. 组件设计 (Component Specifications)

### 4.1 按钮 (Buttons)
* **Primary Button**:
    * 背景：品牌色 `#0066FF`
    * 文字：白色，Medium
    * 圆角：`8px`
    * 高度：`40px` (常规) / `48px` (大)
    * *Hover*: 亮度降低 10%
* **Secondary Button**:
    * 背景：`#F7F8FA` (灰色)
    * 文字：主文本色 `#1A1A1A`
    * *Hover*: 背景变深 `#E5E7EB`
* **Text Button / Link**:
    * 背景：透明
    * 文字：品牌色或深灰
    * *Hover*: 出现下划线或颜色变深

### 4.2 商品卡片 (Product Card)
核心组件，展示在首页、搜索页、分类页。

* **结构**:
    1.  **图片区**: 顶部，比例 1:1，圆角 `12px`。左上角/右上角悬浮“新旧程度”Tag。
    2.  **信息区**: 图片下方，Padding `12px 0` (无边框设计)。
    3.  **标题**: 单行或双行截断，`16px`，颜色 `#1A1A1A`。
    4.  **价格**: 独立一行，`18px` Bold，品牌色或黑色。
    5.  **辅助信息**: 底部一行，左右分布。左侧：发布时间（如 "3天前"）；右侧：浏览量或卖家头像。
* **交互**: 整个卡片可点击。Hover 时图片轻微放大 (Scale 1.05) 或卡片整体上浮 2px 并出现轻微阴影。

### 4.3 状态标签 (Tags/Badges)
* **样式**: 胶囊形 (Pill shape)，高度 `20px` 或 `24px`，文字 `12px`。
* **配色**:
    * *在售 (On Sale)*: 浅绿背景 + 绿字 (e.g., `bg-emerald-50 text-emerald-600`)
    * *已售 (Sold)*: 浅灰背景 + 灰字 (e.g., `bg-gray-100 text-gray-500`)
    * *下架 (Delisted)*: 浅红背景 + 红字 (e.g., `bg-red-50 text-red-600`)
    * *新旧程度*: 浅蓝背景 + 蓝字 (e.g., `bg-blue-50 text-blue-600`)
    * *分类*: 透明背景 + 灰色边框

### 4.4 表单组件 (Forms)
* **输入框**:
    * 背景 `#F7F8FA` (或白色带边框)，高度 `40px`，圆角 `8px`。
    * *Focus*: 背景变白，添加品牌色边框 `1px` 和淡淡的品牌色光晕。
    * *Error*: 边框变红，下方显示红色辅助文案。
* **图片上传**:
    * 虚线框区域，中心显示 "+" 图标和 "上传图片" 文案。
    * 支持拖拽。上传后显示缩略图，右上角带 "x" 删除按钮。

### 4.5 导航栏 (Navbar)
* **布局**: 固定顶部，高度 `64px`，背景白色，底部 `1px solid #F0F0F0`。
* **内容**:
    * 左：Logo (纯文字或简约图标)。
    * 中：搜索框 (宽长条，浅灰背景，圆角 `20px`)。
    * 右：发布按钮 (Primary)、消息图标、用户头像 (Dropdown)。

### 4.6 模态框 (Modal)
* **场景**: 登录/注册、下架确认、删除图片确认。
* **样式**: 居中，白色背景，圆角 `16px`，宽度 `400px` - `600px`。
* **遮罩**: 黑色 `40%` 透明度，背景模糊 `backdrop-filter: blur(4px)`。

---

## 5. 页面级设计 (Key Screens)

### 5.1 首页 (Home)
**目标**: 快速引导用户浏览和发现。

* **Hero 区域**: 极简欢迎语（如 "发现校园好物"），下方可放置热门搜索词 Tag。
* **分类导航**: 一排水平滚动的图标+文字（如 "教材"、"数码"、"生活"），点击跳转分类页。
* **推荐模块 (猜你喜欢)**: (仅登录可见)
    * 标题: "为你推荐"
    * 布局: Grid 布局，一行 4-5 个卡片。

### 5.2 搜索与分类页 (Search/Category)
**目标**: 高效筛选。

* **顶部**: 搜索框回显关键词。
* **筛选栏 (Filter Bar)**:
    * 位于卡片列表上方，吸顶。
    * 样式：一组下拉菜单 (Dropdown) 或 胶囊按钮。
    * 选项：`排序` (最新/价格)、`价格区间` (输入框)、`发布时间` (近7天/30天/全部)、`新旧程度`。
* **列表**: Grid 布局，固定 4-5 列。

### 5.3 商品详情页 (Product Detail)
**目标**: 建立信任，促成联系。

* **布局**:
    * **左侧 (60%)**: 图片展示。主图大图展示，下方一排缩略图。支持点击查看大图 (Lightbox)。
    * **右侧 (40%)**: 信息交互。
        * *Header*: 标题 (H1), 价格 (特大号字体)。
        * *Tags*: 类别 Tag, 新旧程度 Tag, 发布时间。
        * *Seller*: 卖家卡片（头像 + 昵称 + "信誉/已发布数"）。
        * *Description*: 纯文本描述，保持行高 `1.8` 易读性。
        * *Action*: 信息流底部。
            * **"联系卖家"按钮**: 巨大、显著。
            * *未登录*: 点击弹 Login Modal。
            * *已登录*: 点击显示微信号 (可一键复制)，并提示 "请线下交易，注意安全"。
            * *自己看自己*: 按钮隐藏或变为 "编辑商品"。
* **状态横幅**: 若商品 `Sold` 或 `Delisted`，在页面顶部或图片上方显示灰色横幅 "此商品已售出/下架"，所有操作按钮置灰禁用。

### 5.4 发布/编辑商品 (Publish/Edit)
**目标**: 降低发布门槛，线性流程。

* **布局**: 单列布局，最大宽度 `800px`，居中。
* **流程**:
    1.  **图片上传**: 最顶部，大面积虚线框，鼓励先传图。
    2.  **基础信息**: 标题、价格、新旧程度 (Radio Group)。
    3.  **分类标签**: 分类 (Select), 标签 (Multi-select Tags)。
    4.  **描述**: 多行文本域。
    5.  **联系方式检查**: 若用户未填微信号，在此处显示输入框提示补全（API要求）。
    6.  **底部栏**: "取消" (Secondary) + "发布" (Primary)。(点击发布调用 `POST /api/v1/products`)

### 5.5 个人中心与管理 (User Profile)
**目标**: 简单管理。

* **侧边栏/Tab**: 个人资料、我发布的、最近浏览。
* **我发布的 (My Products)**:
    * 列表视图 (Table 或 Row Card)。
    * 每行展示：缩略图、标题、价格、当前状态 (Tag)。
    * 操作区：`编辑` (Icon)、`下架/上架` (Switch 或 Text Button)、`标记已售` (Button)。(标记已售调用 `PATCH /api/v1/products/:id/status`)
    * *状态交互*: 点击 "下架" 弹窗确认，成功后出现 "3秒撤销" Toast。

---

## 6. 交互与状态 (Interactions & States)

### 6.1 动效 (Micro-interactions)
* **Transition**: 所有颜色变化、阴影变化统一使用 `transition: all 0.2s ease-in-out`。
* **Hover**: 按钮 Hover 时背景加深；链接 Hover 时出现下划线；卡片 Hover 时轻微上浮。
* **Feedback**: 点击复制微信号成功后，显示顶部微型 Toast "已复制"。

### 6.2 加载状态 (Loading)
* **Skeleton (骨架屏)**: 也就是灰色占位块。用于商品列表加载、详情页加载。避免使用全屏 Loading 转圈。
* **Button Loading**: 提交表单时，按钮变灰并显示旋转 Icon，防止重复提交。

### 6.3 空状态 (Empty)
* **设计**: 灰色线框风格的 SVG 插画 + 简短文案。
* *示例*:
    * 搜索无结果: "没有找到相关商品，换个词试试？"
    * 我的发布为空: "还没有发布过商品，去清空闲置吧！" + [去发布按钮]。

### 6.4 错误状态 (Error)
* **表单校验**: 输入框边框变红，下方出现红字提示。
* **全局错误**: 网络请求失败时，顶部出现红色 Banner 或 Toast "网络开小差了，请重试"。
* **404**: 独立的 404 页面，提供 "返回首页" 按钮。

---

## 7. 文案与语气 (Tone & Copy)

* **风格**: **Collegiate (学院风)**, **Helpful (乐于助人)**, **Concise (简洁)**。
* **示例**:
    * *Logo*: 不叫 "校园二手交易管理系统"，叫 **"校园集市"** 或 **"校内淘"**。
    * *Placeholder*: 搜索框提示 "搜索 教材 / 耳机 / 自行车..." 而不是 "请输入关键词"。
    * *Login*: "欢迎回来，同学" 而不是 "用户登录"。
    * *Contact*: "联系卖家" 后提示 "交易时请注意人身财产安全"（温馨提示，非警告语气）。